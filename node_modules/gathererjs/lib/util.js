
var _ = require('lodash')
var rsvp = require('rsvp')

module.exports = {

  failing: function(error) {
    return new rsvp.Promise(function(res, rej) { rej() })
  },

  passing: function(data) {
    return new rsvp.Promise(function(res, rej) { res(data) })
  },

  buildForAdapter: function(adapter, raw) {
    return _.reduce(adapter.getters, function(memo, v, k) {
      var val = v(raw)
      if (val != null) {
        memo[k] = val
      }
      return memo
    }, {})
  }
}
